<html lang="es">
  <head>
	<meta charset="UTF-8" />
   	<title> Acci√≥n onclick en js </title>
   	
   	
	
	
	
	
  </head>
  
  
  <body>
<form id="formulario" class="col-lg-6 to-animate" action="http://34.198.173.122:5000/contact" method="post">	
					
	<h3>Formulario de contacto</h3>
	<div class="form-group ">
		<label for="name" class="sr-only">Nombre</label>
		<input id="first_name" class="form-control" placeholder="name" type="text">
	</div>
	<div class="form-group ">
		<label for="email" class="sr-only">Email</label>
		<input id="email" class="form-control" placeholder="email" type="email">
	</div>
						
	<div class="form-group ">
		<label for="message" class="sr-only">Mensaje</label>
		<textarea 		id="message" cols="30" rows="5" class="form-control" placeholder="Mensaje"></textarea>
	</div>
	
	<button id="add-order">enviar</button>
					
</form>	
  
  	<script>
	$(function(){
	
	var $formulario = $('#formulario');
	var $first_name = $('#first_name');
	var $email = $('#email');
	var $message = $('#message');
	$.ajax({
		type:'GET',
		url:'http://34.198.173.122:5000/contact',
		success: function(formulario){
			$.each(formulario, function(i, order){
				$formulario.append('<li>first_name:'+order.first_name+',email:'+order.email +', message:'+order.message+'</li>');
				});
		},
		error:function(){
		alert('error loading orders');
		}
	
		});
		
		$('#add-order').on('click', function(){
			
			var order = {
				first_name: $first_name.val(),
				email: $email.val(),
				message: $message.val(),
				};
				
				$.ajax({
				 type:'POST',
				 url:'http://34.198.173.122:5000/contact',
				 data: order,
				 success: function(newOrder){
					$formulario.append('<li>first_name:'+newOrder.first_name+',email:'+newOrder+', message:'+newOrder+'</li>");
					},
					error:function(){
					  alert('error saving order');
					  }
				
		});
		
		});
		
		});
	
	
	
	</script>
	
	
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	
  </body>
</html>